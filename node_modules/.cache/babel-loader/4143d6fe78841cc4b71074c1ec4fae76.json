{"ast":null,"code":"var _jsxFileName = \"/Users/ananthkashyap/Documents/GitHub/launch.everaise/src/pages/create-assignment.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { Disclosure } from '@headlessui/react';\nimport { ExclamationCircleIcon, ArrowCircleLeftIcon } from '@heroicons/react/solid';\nimport { Link, useParams } from 'react-router-dom';\nimport { database } from '../firebase';\nimport { useCollectionData, useDocumentData } from 'react-firebase-hooks/firestore';\nimport Question from './admin-question';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateAssignment() {\n  _s();\n\n  const [name, setName] = useState('');\n  const [module, setModule] = useState(1);\n  const [uploaded, setUploaded] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [created, setCreated] = useState(false);\n  const [points, setPoints] = useState(0);\n  const [questions, setQuestions] = useState(0);\n  const [handout, setHandout] = useState('');\n  const {\n    course\n  } = useParams();\n  const {\n    assignmentId\n  } = useParams();\n  let data, userData, assignmentData, users;\n\n  if (course === 'physics') {\n    data = database.physics_users;\n    assignmentData = database.physics_assignments.doc(assignmentId);\n    userData = database.physics_users.doc('ananthkashyap4@gmail.com');\n  } else if (course === 'math') {\n    data = database.math_users;\n    assignmentData = database.math_assignments.doc(assignmentId);\n    userData = database.math_users.doc('ananthkashyap4@gmail.com');\n  } else if (course === 'biology') {\n    data = database.biology_users;\n    assignmentData = database.biology_assignments.doc(assignmentId);\n    userData = database.biology_users.doc('ananthkashyap4@gmail.com');\n  } else if (course === 'astronomy') {\n    data = database.astronomy_users;\n    assignmentData = database.astronomy_assignments.doc(assignmentId);\n    userData = database.astronomy_users.doc('ananthkashyap4@gmail.com');\n  }\n\n  users = useCollectionData(data)[0];\n  let info = useDocumentData(userData.collection('assignments').doc(assignmentId));\n\n  function getAssignmentName() {\n    userData.collection('assignments').doc(assignmentId).get().then(doc => {\n      setName(doc.data().name);\n    });\n    return name;\n  }\n\n  function getUploaded() {\n    userData.collection('assignments').doc(assignmentId).get().then(doc => {\n      setUploaded(!doc.data().disabled);\n    });\n    return uploaded ? 'Uploaded' : 'Not Uploaded';\n  }\n\n  function GetQuestions() {\n    let assignment = [];\n\n    for (let i = 0; i < questions; ++i) {\n      assignment.push(String(i));\n    }\n\n    return assignment;\n  }\n\n  function RenderTemplate(event) {\n    event.preventDefault();\n    assignmentData.update({\n      disabled: false,\n      points: points,\n      problems: questions,\n      handout: handout\n    });\n    let count = 0;\n\n    for (const user of users) {\n      data.doc(user.email).collection('assignments').doc(assignmentId).update({\n        disabled: false,\n        points: points,\n        problems: questions,\n        handout: handout\n      });\n      count++;\n    }\n\n    if (count === users.length) {\n      setLoading(false);\n      setCreated(true);\n    }\n  }\n\n  useEffect(() => {\n    document.title = 'Create ' + getAssignmentName() + ' - Everaise Launch';\n  });\n  useEffect(() => {\n    if (info[0] !== undefined) {\n      setModule(info[0].module);\n    }\n\n    if (info[0] !== undefined && questions === 0) {\n      setQuestions(info[0].problems);\n    }\n\n    if (info[0] !== undefined && points === 0) {\n      setPoints(info[0].points);\n    }\n\n    if (info[0] !== undefined && handout === '') {\n      setHandout(info[0].handout);\n    }\n  }, [info, questions, points, handout]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(Disclosure, {\n      as: \"nav\",\n      className: \"bg-gray shadow border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between h-16 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/admin/${course}`,\n              className: \"flex-shrink-0 flex items-center\",\n              children: /*#__PURE__*/_jsxDEV(ArrowCircleLeftIcon, {\n                className: \"h-8 w-auto text-cyan-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/homework/${course}/${module}/${assignmentId}`,\n              className: \"flex-shrink-0 flex items-center\",\n              children: \"View Assignment in Launch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold leading-tight text-gray-900\",\n            children: [\"Create\", ' ', \" \\u2018\", getAssignmentName(), \"\\u2019\", ' (' + getUploaded() + ')']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 rounded-md bg-red-50 p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-shrink-0\",\n                children: /*#__PURE__*/_jsxDEV(ExclamationCircleIcon, {\n                  className: \"h-5 w-5 text-red-400\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ml-3\",\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm text-red-800\",\n                  children: \"Loading...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), !created ? /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"z-50 max-w-7xl mx-auto sm:px-6 lg:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6 lg:px-0 lg:col-span-9\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: e => {\n                setLoading(true);\n                RenderTemplate(e);\n              },\n              action: \"#\",\n              method: \"POST\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"shadow sm:rounded-md overflow-hidden shadow border border-gray-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white py-6 px-4 space-y-6 sm:p-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-lg leading-6 font-medium text-gray-900\",\n                      children: \"Assignment Information\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 159,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"mt-1 text-sm text-gray-500\",\n                      children: ['* ', \"Denotes a required field.\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-6 gap-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-span-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"questions\",\n                        className: \"block text-sm font-medium text-gray-700\",\n                        children: [\"Number of Questions (Include separate parts as separate questions)\", '*']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 164,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        min: \"1\",\n                        required: true,\n                        value: questions,\n                        onChange: e => setQuestions(parseInt(e.target.value)),\n                        type: \"number\",\n                        name: \"age\",\n                        id: \"aeg\",\n                        autoComplete: \"number\",\n                        className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 167,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-span-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"points\",\n                        className: \"block text-sm font-medium text-gray-700\",\n                        children: [\"Points\", '*']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 180,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        min: \"1\",\n                        required: true,\n                        value: points,\n                        onChange: e => setPoints(parseInt(e.target.value)),\n                        type: \"number\",\n                        name: \"points\",\n                        id: \"points\",\n                        autoComplete: \"number\",\n                        className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 183,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 179,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-span-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"handout\",\n                        className: \"block text-sm font-medium text-gray-700\",\n                        children: [\"Handout Link\", '*']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 196,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        required: true,\n                        value: handout,\n                        onChange: e => setHandout(e.target.value),\n                        type: \"link\",\n                        name: \"handout\",\n                        id: \"handout\",\n                        autoComplete: \"link\",\n                        className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 199,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"px-4 py-3 bg-gray-50 text-right sm:px-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"bg-cyan-600 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500\",\n                    children: \"Create Template\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this) : GetQuestions().map(question => /*#__PURE__*/_jsxDEV(Question, {\n        number: parseInt(question) + 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateAssignment, \"uooe9ZWEoMjytJxJ1xPglIgF6+Y=\", false, function () {\n  return [useParams, useParams, useCollectionData, useDocumentData];\n});\n\n_c = CreateAssignment;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateAssignment\");","map":{"version":3,"sources":["/Users/ananthkashyap/Documents/GitHub/launch.everaise/src/pages/create-assignment.jsx"],"names":["useState","useEffect","Disclosure","ExclamationCircleIcon","ArrowCircleLeftIcon","Link","useParams","database","useCollectionData","useDocumentData","Question","CreateAssignment","name","setName","module","setModule","uploaded","setUploaded","loading","setLoading","created","setCreated","points","setPoints","questions","setQuestions","handout","setHandout","course","assignmentId","data","userData","assignmentData","users","physics_users","physics_assignments","doc","math_users","math_assignments","biology_users","biology_assignments","astronomy_users","astronomy_assignments","info","collection","getAssignmentName","get","then","getUploaded","disabled","GetQuestions","assignment","i","push","String","RenderTemplate","event","preventDefault","update","problems","count","user","email","length","document","title","undefined","e","parseInt","target","value","map","question"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport { Disclosure } from '@headlessui/react'\nimport { ExclamationCircleIcon, ArrowCircleLeftIcon } from '@heroicons/react/solid'\nimport { Link, useParams } from 'react-router-dom'\nimport { database } from '../firebase'\nimport { useCollectionData, useDocumentData } from 'react-firebase-hooks/firestore'\nimport Question from './admin-question'\n\nexport default function CreateAssignment() {\n  const [name, setName] = useState('')\n  const [module, setModule] = useState(1)\n  const [uploaded, setUploaded] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [created, setCreated] = useState(false)\n  const [points, setPoints] = useState(0)\n  const [questions, setQuestions] = useState(0)\n  const [handout, setHandout] = useState('')\n  const { course } = useParams()\n  const { assignmentId } = useParams() \n  \n  let data, userData, assignmentData, users;\n\n  if (course === 'physics') {\n    data = database.physics_users\n    assignmentData = database.physics_assignments.doc(assignmentId)\n    userData = database.physics_users.doc('ananthkashyap4@gmail.com')\n  } else if (course === 'math') {\n    data = database.math_users \n    assignmentData = database.math_assignments.doc(assignmentId)\n    userData = database.math_users.doc('ananthkashyap4@gmail.com')\n  } else if (course === 'biology') {\n    data = database.biology_users\n    assignmentData = database.biology_assignments.doc(assignmentId)\n    userData = database.biology_users.doc('ananthkashyap4@gmail.com')\n  } else if (course === 'astronomy') {\n    data = database.astronomy_users\n    assignmentData = database.astronomy_assignments.doc(assignmentId)\n    userData = database.astronomy_users.doc('ananthkashyap4@gmail.com')\n  }\n  \n  users = useCollectionData(data)[0]\n  let info = useDocumentData(userData.collection('assignments').doc(assignmentId))\n\n  function getAssignmentName() {\n      userData.collection('assignments').doc(assignmentId).get().then((doc) => {\n        setName(doc.data().name)\n      })\n      return name\n  }\n\n  function getUploaded() {\n    userData.collection('assignments').doc(assignmentId).get().then((doc) => {\n      setUploaded(!doc.data().disabled)\n    })\n    return uploaded ? 'Uploaded' : 'Not Uploaded'\n  }\n\n  function GetQuestions() {\n    let assignment = []\n    for (let i = 0; i < questions; ++i) {\n        assignment.push(String(i))\n    }\n    return assignment\n  }\n  \n  function RenderTemplate(event) {\n    event.preventDefault()\n    assignmentData.update({\n        disabled: false,\n        points: points,\n        problems: questions,\n        handout: handout,\n    })\n    \n    let count = 0\n    for (const user of users) {\n        data.doc(user.email).collection('assignments').doc(assignmentId).update({\n            disabled: false,\n            points: points,\n            problems: questions,\n            handout: handout,\n        })\n        count++\n    }\n    if (count === users.length) {\n        setLoading(false)\n        setCreated(true)\n    }\n  }\n\n  useEffect(() => {\n    document.title = 'Create ' + getAssignmentName() + ' - Everaise Launch'\n  })\n\n  useEffect(() => {\n    if (info[0] !== undefined) {\n        setModule(info[0].module)\n    }\n    if (info[0] !== undefined && questions === 0) {\n      setQuestions(info[0].problems)\n    }\n    if (info[0] !== undefined && points === 0) {\n      setPoints(info[0].points)\n    }\n    if (info[0] !== undefined && handout === '') {\n      setHandout(info[0].handout)\n    }\n  }, [info, questions, points, handout])\n\n\n  return (\n    <div className=\"bg-white\">\n        <Disclosure as=\"nav\" className=\"bg-gray shadow border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex justify-between h-16 items-center\">\n            <div className=\"flex\">\n                <Link to={`/admin/${course}`} className=\"flex-shrink-0 flex items-center\">\n                <ArrowCircleLeftIcon\n                    className=\"h-8 w-auto text-cyan-600\"\n                />\n                </Link>\n            </div>\n            <div className=\"flex\">\n                <Link to={`/homework/${course}/${module}/${assignmentId}`} className=\"flex-shrink-0 flex items-center\">\n                    View Assignment in Launch\n                </Link>\n            </div>\n            </div>\n        </div>\n        </Disclosure>\n\n        <div className=\"py-10\">\n        <header>\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-6\">\n            <h1 className=\"text-3xl font-bold leading-tight text-gray-900\">Create{' '} &lsquo;{getAssignmentName()}&rsquo;{' (' + getUploaded() + ')'}</h1>\n            {loading && <div className=\"mt-4 rounded-md bg-red-50 p-4\">\n                <div className=\"flex\">\n                    <div className=\"flex-shrink-0\">\n                        <ExclamationCircleIcon className=\"h-5 w-5 text-red-400\" aria-hidden=\"true\" />\n                    </div>\n                    <div className=\"ml-3\">\n                        <h3 className=\"text-sm text-red-800\">Loading...</h3>\n                    </div>\n                </div>\n            </div>}\n            </div>\n        </header>\n        {!created ? \n        <main>\n            <div className=\"z-50 max-w-7xl mx-auto sm:px-6 lg:px-8\">\n            <div className=\"space-y-6 lg:px-0 lg:col-span-9\">\n                <form onSubmit={e => {\n                    setLoading(true);\n                    RenderTemplate(e)}\n                } action=\"#\" method=\"POST\">\n                <div className=\"shadow sm:rounded-md overflow-hidden shadow border border-gray-200\">\n                    <div className=\"bg-white py-6 px-4 space-y-6 sm:p-6\">\n                    <div>\n                        <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Assignment Information</h3>\n                        <p className=\"mt-1 text-sm text-gray-500\">{'* '}Denotes a required field.</p>\n                    </div>\n                    <div className=\"grid grid-cols-6 gap-6\">\n                        <div className=\"col-span-3\">\n                        <label htmlFor=\"questions\" className=\"block text-sm font-medium text-gray-700\">\n                            Number of Questions (Include separate parts as separate questions){'*'}\n                        </label>\n                        <input\n                            min=\"1\"\n                            required\n                            value={questions}\n                            onChange={e => setQuestions(parseInt(e.target.value))}\n                            type=\"number\"\n                            name=\"age\"\n                            id=\"aeg\"\n                            autoComplete=\"number\"\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                        />\n                        </div>\n                        <div className=\"col-span-3\">\n                        <label htmlFor=\"points\" className=\"block text-sm font-medium text-gray-700\">\n                            Points{'*'}\n                        </label>\n                        <input\n                            min=\"1\"\n                            required\n                            value={points}\n                            onChange={e => setPoints(parseInt(e.target.value))}\n                            type=\"number\"\n                            name=\"points\"\n                            id=\"points\"\n                            autoComplete=\"number\"\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                        />\n                        </div>\n                        <div className=\"col-span-6\">\n                        <label htmlFor=\"handout\" className=\"block text-sm font-medium text-gray-700\">\n                            Handout Link{'*'}\n                        </label>\n                        <input\n                            required\n                            value={handout}\n                            onChange={e => setHandout(e.target.value)}\n                            type=\"link\"\n                            name=\"handout\"\n                            id=\"handout\"\n                            autoComplete=\"link\"\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                        />\n                        </div>\n                    </div>\n                    </div>\n                    <div className=\"px-4 py-3 bg-gray-50 text-right sm:px-6\">\n                    <button\n                        type=\"submit\"\n                        className=\"bg-cyan-600 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500\"\n                    >\n                        Create Template\n                    </button>\n                    </div>\n                </div>\n                </form>\n            </div>\n            </div>\n        </main> :\n        GetQuestions().map((question) => (\n            <Question number={parseInt(question) + 1} />          \n        ))\n        }\n        </div>\n    </div>\n    )\n  }"]},"metadata":{},"sourceType":"module"}