{"ast":null,"code":"var _jsxFileName = \"/Users/ananthkashyap/Documents/GitHub/launch.everaise/src/pages/admin-question.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { database } from '../firebase';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport { ExclamationIcon } from '@heroicons/react/outline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Question(props) {\n  _s();\n\n  const [error, setError] = useState('');\n  const [created, setCreated] = useState(false);\n  const [number, setNumber] = useState('');\n  const [id, setId] = useState('');\n  const [answer, setAnswer] = useState('');\n  const [solutionLink, setSolutionLink] = useState('');\n  const [type, setType] = useState('');\n  const [points, setPoints] = useState('');\n  const {\n    course\n  } = useParams();\n  const {\n    assignmentId\n  } = useParams();\n  let data, assignmentData;\n\n  if (course === 'physics') {\n    data = database.physics_users;\n    assignmentData = database.physics_assignments.doc(assignmentId);\n  } else if (course === 'math') {\n    data = database.math_users;\n    assignmentData = database.math_assignments.doc(assignmentId);\n  } else if (course === 'biology') {\n    data = database.biology_users;\n    assignmentData = database.biology_assignments.doc(assignmentId);\n  } else if (course === 'astronomy') {\n    data = database.astronomy_users;\n    assignmentData = database.astronomy_assignments.doc(assignmentId);\n  }\n\n  let users = useCollectionData(data)[0];\n\n  function HandleSubmit(event) {\n    event.preventDefault();\n    assignmentData.collection('questions').doc(id).set({\n      number: number,\n      attempts: 2,\n      status: '',\n      completed: false,\n      type: type,\n      points: points,\n      answer: answer,\n      solution: solutionLink\n    });\n\n    for (const user of users) {\n      console.log(user.email);\n      data.doc(user.email).collection('assignments').doc(assignmentId).collection('questions').doc(id).set({\n        number: number,\n        attempts: 2,\n        status: '',\n        completed: false,\n        type: type,\n        points: points,\n        answer: answer,\n        solution: solutionLink\n      });\n    }\n\n    setCreated(true);\n  }\n\n  useEffect(() => {\n    if (!['MC', 'SA', 'FR'].includes(type) && type !== '') {\n      setError('The question type must be MC (multiple choice), SA (short answer), or FR (free response)');\n    } else {\n      setError('');\n    }\n  }, [type]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: props.number === 1 ? \"pt-1 pb-5\" : \"py-5\",\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"z-50 max-w-7xl mx-auto sm:px-6 lg:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6 lg:px-0 lg:col-span-9\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: HandleSubmit,\n              action: \"#\",\n              method: \"POST\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"shadow sm:rounded-md overflow-hidden shadow border border-gray-200\",\n                children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-md bg-yellow-50 p-4 mx-3 mt-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-shrink-0\",\n                      children: /*#__PURE__*/_jsxDEV(ExclamationIcon, {\n                        className: \"h-5 w-5 text-yellow-400\",\n                        \"aria-hidden\": \"true\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 84,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 83,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ml-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"text-sm font-medium text-yellow-800\",\n                        children: \"Invalid Question\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 87,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mt-2 text-sm text-yellow-700\",\n                        children: /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: error\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 89,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 88,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 86,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-2 bg-white py-6 px-4 space-y-6 sm:p-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-lg leading-6 font-medium text-gray-900\",\n                      children: \"Personal Information\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"mt-1 text-sm text-gray-500\",\n                      children: ['* ', \"Denotes a required field.\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-6 gap-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-span-6 sm:col-span-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"question_id\",\n                        className: \"block text-sm font-medium text-gray-700\",\n                        children: [\"Question ID\", '*']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 103,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        required: true,\n                        value: id,\n                        onChange: e => setId(e.target.value),\n                        type: \"id\",\n                        name: \"id\",\n                        id: \"id\",\n                        placeholder: \"i.e. 1, 2a, 3d\",\n                        className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 106,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-span-6 sm:col-span-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"number\",\n                        className: \"block text-sm font-medium text-gray-700\",\n                        children: [\"Number\", '*']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 119,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        value: number,\n                        onChange: e => setNumber(parseFloat(e.target.value)),\n                        required: true,\n                        type: \"number\",\n                        name: \"number\",\n                        id: \"number\",\n                        placeholder: \"If it is a question part enter as float - 12a: 12.1, 2b: 2.2\",\n                        className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 122,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-span-6 sm:col-span-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"type\",\n                        className: \"block text-sm font-medium text-gray-700\",\n                        children: [\"Type\", '*']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 135,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        value: type,\n                        onChange: e => setType(e.target.value),\n                        required: true,\n                        type: \"string\",\n                        name: \"type\",\n                        id: \"type\",\n                        placeholder: \"Enter One: MC, SA, or FR\",\n                        className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 138,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 134,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-span-6 sm:col-span-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"points\",\n                        className: \"block text-sm font-medium text-gray-700\",\n                        children: [\"Points\", '*']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 151,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        required: true,\n                        value: points,\n                        onChange: e => setPoints(parseInt(e.target.value)),\n                        type: \"number\",\n                        name: \"points\",\n                        id: \"points\",\n                        autoComplete: \"email\",\n                        className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 154,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-span-6 sm:col-span-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"answer\",\n                        className: \"block text-sm font-medium text-gray-700\",\n                        children: [\"Answer\", '*']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 167,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        value: answer,\n                        onChange: e => setAnswer(e.target.value),\n                        type: \"answer\",\n                        name: \"answer\",\n                        id: \"answer\",\n                        placeholder: \"Enter answer to question\",\n                        className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 170,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-span-6 sm:col-span-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"solution\",\n                        className: \"block text-sm font-medium text-gray-700\",\n                        children: [\"Solution\", '*']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 182,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        required: true,\n                        value: solutionLink,\n                        onChange: e => setSolutionLink(e.target.value),\n                        type: \"string\",\n                        name: \"solution\",\n                        id: \"solution\",\n                        placeholder: \"BIO: Enter raw solution text. OTHER CLASSES: Enter link to image of solution\",\n                        className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 185,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"px-4 py-3 bg-gray-50 text-right sm:px-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    disabled: created,\n                    type: \"submit\",\n                    className: created ? \"bg-cyan-300 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500\" : \"bg-cyan-600 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500\",\n                    children: \"Add Question\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Question, \"Zbx4GC2G0mItzRAUf/dorS6KkHo=\", false, function () {\n  return [useParams, useParams, useCollectionData];\n});\n\n_c = Question;\n\nvar _c;\n\n$RefreshReg$(_c, \"Question\");","map":{"version":3,"sources":["/Users/ananthkashyap/Documents/GitHub/launch.everaise/src/pages/admin-question.jsx"],"names":["useState","useEffect","useParams","database","useCollectionData","ExclamationIcon","Question","props","error","setError","created","setCreated","number","setNumber","id","setId","answer","setAnswer","solutionLink","setSolutionLink","type","setType","points","setPoints","course","assignmentId","data","assignmentData","physics_users","physics_assignments","doc","math_users","math_assignments","biology_users","biology_assignments","astronomy_users","astronomy_assignments","users","HandleSubmit","event","preventDefault","collection","set","attempts","status","completed","solution","user","console","log","email","includes","e","target","value","parseFloat","parseInt"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { database } from '../firebase'\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\nimport { ExclamationIcon } from '@heroicons/react/outline'\n\nexport default function Question(props) {\n    const [error, setError] = useState('')\n    const [created, setCreated] = useState(false)\n    const [number, setNumber] = useState('')\n    const [id, setId] = useState('')\n    const [answer, setAnswer] = useState('')\n    const [solutionLink, setSolutionLink] = useState('')\n    const [type, setType] = useState('')\n    const [points, setPoints] = useState('')\n    const { course } = useParams()\n    const { assignmentId } = useParams()\n\n    let data, assignmentData;\n\n    if (course === 'physics') {\n        data = database.physics_users\n        assignmentData = database.physics_assignments.doc(assignmentId)\n      } else if (course === 'math') {\n        data = database.math_users \n        assignmentData = database.math_assignments.doc(assignmentId)\n      } else if (course === 'biology') {\n        data = database.biology_users\n        assignmentData = database.biology_assignments.doc(assignmentId)\n      } else if (course === 'astronomy') {\n        data = database.astronomy_users\n        assignmentData = database.astronomy_assignments.doc(assignmentId)\n      }\n    \n    let users = useCollectionData(data)[0] \n    \n    function HandleSubmit(event) {\n        event.preventDefault()\n        assignmentData.collection('questions').doc(id).set({\n            number: number,\n            attempts: 2,\n            status: '',\n            completed: false,\n            type: type,\n            points: points,\n            answer: answer,\n            solution: solutionLink,\n        })\n        for (const user of users) {\n            console.log(user.email)\n            data.doc(user.email).collection('assignments').doc(assignmentId).collection('questions').doc(id).set({\n                number: number,\n                attempts: 2,\n                status: '',\n                completed: false,\n                type: type,\n                points: points,\n                answer: answer,\n                solution: solutionLink,\n            })\n        }\n        setCreated(true)\n    }\n  \n    useEffect(() => {\n      if (!['MC','SA','FR'].includes(type) && type !== '') {\n          setError('The question type must be MC (multiple choice), SA (short answer), or FR (free response)')\n      } else {\n          setError('')\n      }\n    }, [type])\n\n    return (\n        <div className=\"bg-white\">\n        <div className={props.number === 1 ? \"pt-1 pb-5\" : \"py-5\"}>\n            <main>\n            <div className=\"z-50 max-w-7xl mx-auto sm:px-6 lg:px-8\">\n                <div className=\"space-y-6 lg:px-0 lg:col-span-9\">\n                <form onSubmit={HandleSubmit} action=\"#\" method=\"POST\">\n                    <div className=\"shadow sm:rounded-md overflow-hidden shadow border border-gray-200\">\n                    {error && <div className=\"rounded-md bg-yellow-50 p-4 mx-3 mt-3\">\n                    <div className=\"flex\">\n                        <div className=\"flex-shrink-0\">\n                        <ExclamationIcon className=\"h-5 w-5 text-yellow-400\" aria-hidden=\"true\" />\n                        </div>\n                        <div className=\"ml-3\">\n                        <h3 className=\"text-sm font-medium text-yellow-800\">Invalid Question</h3>\n                        <div className=\"mt-2 text-sm text-yellow-700\">\n                            <p>\n                            {error}\n                            </p>\n                        </div>\n                        </div>\n                    </div>\n                    </div>}\n                    <div className=\"mb-2 bg-white py-6 px-4 space-y-6 sm:p-6\">\n                        <div>\n                        <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Personal Information</h3>\n                        <p className=\"mt-1 text-sm text-gray-500\">{'* '}Denotes a required field.</p>\n                        </div>\n                        <div className=\"grid grid-cols-6 gap-6\">\n                        <div className=\"col-span-6 sm:col-span-3\">\n                            <label htmlFor=\"question_id\" className=\"block text-sm font-medium text-gray-700\">\n                            Question ID{'*'}\n                            </label>\n                            <input\n                            required\n                            value={id}\n                            onChange={e => setId(e.target.value)}\n                            type=\"id\"\n                            name=\"id\"\n                            id=\"id\"\n                            placeholder=\"i.e. 1, 2a, 3d\"\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                            />\n                        </div>\n\n                        <div className=\"col-span-6 sm:col-span-3\">\n                            <label htmlFor=\"number\" className=\"block text-sm font-medium text-gray-700\">\n                            Number{'*'}\n                            </label>\n                            <input\n                            value={number}\n                            onChange={e => setNumber(parseFloat(e.target.value))}\n                            required\n                            type=\"number\"\n                            name=\"number\"\n                            id=\"number\"\n                            placeholder=\"If it is a question part enter as float - 12a: 12.1, 2b: 2.2\"\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                            />\n                        </div>\n\n                        <div className=\"col-span-6 sm:col-span-3\">\n                            <label htmlFor=\"type\" className=\"block text-sm font-medium text-gray-700\">\n                            Type{'*'}\n                            </label>\n                            <input\n                            value={type}\n                            onChange={e => setType(e.target.value)}\n                            required\n                            type=\"string\"\n                            name=\"type\"\n                            id=\"type\"\n                            placeholder=\"Enter One: MC, SA, or FR\"\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                            />\n                        </div>\n\n                        <div className=\"col-span-6 sm:col-span-3\">\n                            <label htmlFor=\"points\" className=\"block text-sm font-medium text-gray-700\">\n                            Points{'*'}\n                            </label>\n                            <input\n                            required\n                            value={points}\n                            onChange={e => setPoints(parseInt(e.target.value))}\n                            type=\"number\"\n                            name=\"points\"\n                            id=\"points\"\n                            autoComplete=\"email\"\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                            />\n                        </div>\n\n                        <div className=\"col-span-6 sm:col-span-6\">\n                            <label htmlFor=\"answer\" className=\"block text-sm font-medium text-gray-700\">\n                            Answer{'*'}\n                            </label>\n                            <input\n                            value={answer}\n                            onChange={e => setAnswer(e.target.value)}\n                            type=\"answer\"\n                            name=\"answer\"\n                            id=\"answer\"\n                            placeholder=\"Enter answer to question\"\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                            />\n                        </div>\n\n                        <div className=\"col-span-6 sm:col-span-6\">\n                            <label htmlFor=\"solution\" className=\"block text-sm font-medium text-gray-700\">\n                            Solution{'*'}\n                            </label>\n                            <input\n                            required\n                            value={solutionLink}\n                            onChange={e => setSolutionLink(e.target.value)}\n                            type=\"string\"\n                            name=\"solution\"\n                            id=\"solution\"\n                            placeholder=\"BIO: Enter raw solution text. OTHER CLASSES: Enter link to image of solution\"\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                            />\n                        </div>\n                        </div>\n                    </div>\n                    <div className=\"px-4 py-3 bg-gray-50 text-right sm:px-6\">\n                        <button\n                            disabled={created}\n                            type=\"submit\"\n                            className={created ? \"bg-cyan-300 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500\" : \n                            \"bg-cyan-600 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500\"\n                            }\n                            >\n                            Add Question\n                        </button>\n                    </div>\n                    </div>\n                </form>\n                </div>\n            </div>\n            </main>\n        </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}